<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>File: xbeeconfigure.rb [xbee.rb - A Ruby class for manipulating an XBee via the serial communication port of the host ]</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='.././rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='file' id='wrapper'>
      <div class='header'>
        <h1 class='name'>xbeeconfigure.rb</h1>
        <div class='paths'>
          xbeeconfigure.rb
        </div>
        <div class='last-update'>
          Last Update:
          <span class='datetime'>Fri Jan 02 13:41:18 -0700 2009</span>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <h2>Synopsis</h2>
            <p>
            <a href="xbeeconfigure_rb.html">xbeeconfigure.rb</a> - A utility for
            configuring an <a href="../classes/XBee.html">XBee</a> using Ruby and the
            Ruby::XBee class
            </p>
            <h2>Usage</h2>
            <h3>Syntax</h3>
            <pre>./xbeeconfigure.rb [options]</pre>
            <p>
            Command line help
            </p>
            <pre>./xbeeconfigure.rb --help&#x000A; xbeeconfigure.rb [options]&#x000A; Options:&#x000A;    [--panid new_pan_id] [-p new_pan_id]      sets the XBee PAN ID&#x000A;    [--channel new_channel] [-c new_channel]  sets the new channel number for XBee RF&#x000A;    [--mysrc new_address] [-M new_address]    sets MY 16-bit source address (0-0xffff)&#x000A;    [--nodeid new_node_id] [-n new_node_id]   sets the text for the XBee node ID&#x000A;    [--desthigh highaaddress] [-H highaddress] sets the high portion of the destination address&#x000A;    [--destlow low_address] [-L low_address]  sets the low portion of the destination address&#x000A;    [--parity [NEOMS]] [-P [NEOMS]]           sets new parity, N = 8bit no-parity, E = 8bit even, O = 8bit odd, M = 8bit mark, S = 8bit space&#x000A;    [--newbaud baud_rate] [-B baud_rate]      sets a new baud rate in XBee to take effect after configuration is complete&#x000A;    [--dev device] [-d device]                use this device to talk to XBee (ie: /dev/tty.usb-791jdas)&#x000A;    [--baud baud_rate] [-b baud_rate]         use this baud rate for configuring the device&#x000A;    [--save] [-s]                             write new configuration to XBee flash when finished; default is: configuration is not flashed&#x000A;    [--help] print this command help message</pre>
            <p>
            Example usage
            </p>
            <pre>./xbeeconfigure.rb --nodeid BaseStation --panid 01 --mysrc 01 -H0 -L 2 -s</pre>
            <p>
            The command above configures an <a href="../classes/XBee.html">XBee</a>
            with a human readable node ID of &#8220;BaseStation&#8221;, a PAN ID of 1,
            sets the device&#8217;s MY 16-bit source address to 1, sets the destination
            to point to an <a href="../classes/XBee.html">XBee</a> in a 16-bit
            addressing mode with a low address of 2 (-L 2) and a high of 0 which
            determines this is a 16-bit address.) Finally, the -s causes the new
            configuration to be saved in <a href="../classes/XBee.html">XBee</a> flash
            when the configuration is completed. The &#8220;BaseStation&#8221; node id
            is reported as one of the attributes from neighboring nodes.
            </p>
            <p>
            Since there are both long and short versions of the same options, an
            equivalent, shorter command line is:
            </p>
            <pre>./xbeeconfigure.rb -n BaseStation -M 01 -M 01 -H0 -L 2 -s</pre>
            <p>
            See <a href="conf/xbeeconfig_rb.html">conf/xbeeconfig.rb</a> for
            configuration defaults
            </p>
            <p>
            this code is designed for the following <a
            href="../classes/XBee.html">XBee</a> modules: IEEEÂ® 802.15.4 OEM RF
            Modules by Digi International Series 1 <a
            href="../classes/XBee.html">XBee</a> and <a
            href="../classes/XBee.html">XBee</a> Pro modules
            </p>
            <h2>Copyright</h2>
            <p>
            Copyright (C) 2008-2009 360VL, Inc. and Landon Cox
            </p>
            <h2>License</h2>
            <p>
            This program is free software: you can redistribute it and/or modify it
            under the terms of the GNU Affero General Public License version 3 as
            published by the Free Software Foundation.
            </p>
            <p>
            This program is distributed in the hope that it will be useful, but WITHOUT
            ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
            FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License
            version 3 for more details.
            </p>
            <p>
            You should have received a copy of the GNU Affero General Public License
            along with this program. If not, see <a
            href="http://www.gnu.org/licenses/">www.gnu.org/licenses/</a>
            </p>
            <h2>See Also</h2>
            <p>
            <a href="xbeeinfo_rb.html">xbeeinfo.rb</a>, <a
            href="xbeeconfigure_rb.html">xbeeconfigure.rb</a>, <a
            href="xbeedio_rb.html">xbeedio.rb</a>, <a
            href="xbeelisten_rb.html">xbeelisten.rb</a>, <a
            href="xbeesend_rb.html">xbeesend.rb</a>
            </p>
            <h2>Learn More</h2>
            <p>
            You can learn more about Ruby::XBee and other projects at <a
            href="http://sawdust.see-do.org">sawdust.see-do.org</a>
            </p>
            <p>
            see Digi product manual: &#8220;Product Manual v1.xCx - 802.15.4
            Protocol&#8221; for details on the operation of <a
            href="../classes/XBee.html">XBee</a> series 1 modules.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000001">dump_help</a></li>
              <li><a href="#M000004">execute_configuration</a></li>
              <li><a href="#M000003">process_cli_options</a></li>
              <li><a href="#M000002">setup_cli_options</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='requires'>
              <h2>Required files</h2>
              <ol>
                <li>date</li>
                <li>getoptlong</li>
                <li><a href="xbee_rb.html">xbee</a></li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='methods'>
              <h2>Public instance methods</h2>
              <div class='public-instance method' id='method-M000001'>
                <a name='M000001'>      </a>
                <div class='synopsis'>
                  <span class='name'>dump_help</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  dump usage info to the console
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000001-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000001-source'><span class="ruby-comment cmt"># File xbeeconfigure.rb, line 85</span>&#x000A;<span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dump_help</span>&#x000A;&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;xbeeconfigure.rb [options]&quot;</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Options:&quot;</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--panid new_pan_id] [-p new_pan_id]      sets the XBee PAN ID&quot;</span>                               <span class="ruby-comment cmt"># set panid </span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--channel new_channel] [-c new_channel]  sets the new channel number for XBee RF&quot;</span>            <span class="ruby-comment cmt"># set channel </span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--mysrc new_address] [-M new_address]    sets MY 16-bit source address (0-0xffff)&quot;</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--nodeid new_node_id] [-n new_node_id]   sets the text for the XBee node ID&quot;</span>                 <span class="ruby-comment cmt"># set nodeid </span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--desthigh highaddress] [-H highaddress] sets the high portion of the destination address&quot;</span>   <span class="ruby-comment cmt"># set destination high address</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--destlow low_address] [-L low_address]  sets the low portion of the destination address&quot;</span>    <span class="ruby-comment cmt"># set destination low address </span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--parity [NEOMS]] [-P [NEOMS]]           sets new parity, N = 8bit no-parity, E = 8bit even, O = 8bit odd, M = 8bit mark, S = 8bit space&quot;</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--newbaud baud_rate] [-B baud_rate]      sets a new baud rate in XBee to take effect after configuration is complete&quot;</span>&#x000A;&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--dev device] [-d device]                use this device to talk to XBee (ie: /dev/tty.usb-791jdas)&quot;</span>   &#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--baud baud_rate] [-b baud_rate]         use this baud rate for configuring the device&quot;</span>     <span class="ruby-comment cmt"># override baud </span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--save] [-s]                             write new configuration to XBee flash when finished; default is: configuration is not flashed&quot;</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;   [--help] print this command help message&quot;</span>&#x000A;&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;\nSee conf/xbeeconfig.rb for defaults and edit conf/xbeeconfig.rb to change the defaults used to communicate with the device&quot;</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;\nCopyright (C) 2008-2009 360VL, Inc and Landon Cox&quot;</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;\nThis program comes with ABSOLUTELY NO WARRANTY;&quot;</span> &#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;This is free software, and you are welcome to redistribute it&quot;</span>&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;under certain conditions detailed in: GNU Affero General Public License version 3&quot;</span> &#x000A;&#x000A;<span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000004'>
                <a name='M000004'>      </a>
                <div class='synopsis'>
                  <span class='name'>execute_configuration</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  after the cli options have been processed, the configuration is executed
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000004-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000004-source'><span class="ruby-comment cmt"># File xbeeconfigure.rb, line 196</span>&#x000A;<span class="ruby-keyword kw">def</span> <span class="ruby-identifier">execute_configuration</span>&#x000A;  <span class="ruby-comment cmt"># start the configuration </span>&#x000A;&#x000A;  <span class="ruby-ivar">@xbee</span> = <span class="ruby-constant">XBee</span>.<span class="ruby-identifier">new</span>( <span class="ruby-ivar">@xbee_usbdev_str</span>, <span class="ruby-ivar">@xbee_baud</span>, <span class="ruby-ivar">@data_bits</span>, <span class="ruby-ivar">@stop_bits</span>, <span class="ruby-ivar">@parity</span> )&#x000A;&#x000A;  <span class="ruby-comment cmt"># before doing anything else, put XBee into AT command mode</span>&#x000A;&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Attention...&quot;</span>&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">attention</span>.<span class="ruby-identifier">match</span>(<span class="ruby-value str">&quot;OK&quot;</span>) &#x000A;     <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Can't talk to XBee.  Please check your connection or configuration: #{res}&quot;</span>&#x000A;     <span class="ruby-identifier">exit</span> <span class="ruby-value">1</span>&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-comment cmt"># execute configuration</span>&#x000A;&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@panid</span>&#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Setting PAN ID&quot;</span>&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">pan_id!</span>(<span class="ruby-ivar">@panid</span>)&#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;PAN id: #{@xbee.pan_id}&quot;</span>&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@mysrc</span>&#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Setting MY 16-bit source address&quot;</span>&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">my_src_address!</span>( <span class="ruby-ivar">@mysrc</span>.<span class="ruby-identifier">upcase</span> )&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@nodeid</span>&#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Setting Node ID&quot;</span>&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">node_id!</span>(<span class="ruby-ivar">@nodeid</span>)&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@dest_high</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@dest_low</span>  &#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Setting destination address&quot;</span>&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">destination_high!</span>(<span class="ruby-ivar">@dest_high</span>)&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">destination_low!</span>(<span class="ruby-ivar">@dest_low</span>)&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@channel</span> &#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Setting channel&quot;</span>&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">channel!</span>(<span class="ruby-ivar">@channel</span>)&#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Channel: #{@xbee.channel}&quot;</span>&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@new_baud_rate</span>&#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Setting new baud rate&quot;</span>&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">baud!</span>(<span class="ruby-identifier">new_baud_rate</span>)&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@newparity</span>&#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Setting new parity&quot;</span>&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">parity!</span>( <span class="ruby-ivar">@newparity</span>.<span class="ruby-identifier">upcase</span>.<span class="ruby-identifier">to_sym</span> )&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@save</span> &#x000A;    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Saving configuration to XBee flash&quot;</span>&#x000A;    <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">save!</span>&#x000A;  <span class="ruby-keyword kw">end</span>&#x000A;&#x000A;  <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;Exiting AT command mode&quot;</span>&#x000A;  <span class="ruby-ivar">@xbee</span>.<span class="ruby-identifier">exit_command_mode</span>&#x000A;&#x000A;<span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000003'>
                <a name='M000003'>      </a>
                <div class='synopsis'>
                  <span class='name'>process_cli_options</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  process the command line interface options and set the appropriate
                  variables with the cli data
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000003-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000003-source'><span class="ruby-comment cmt"># File xbeeconfigure.rb, line 142</span>&#x000A;<span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process_cli_options</span>&#x000A;&#x000A;  <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">opt</span>, <span class="ruby-identifier">arg</span> <span class="ruby-operator">|</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">opt</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--panid&quot;</span>&#x000A;        <span class="ruby-ivar">@panid</span> = <span class="ruby-identifier">arg</span> &#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--nodeid&quot;</span>&#x000A;        <span class="ruby-ivar">@nodeid</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--mysrc&quot;</span>&#x000A;        <span class="ruby-ivar">@mysrc</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--dev&quot;</span>&#x000A;        <span class="ruby-ivar">@xbee_usbdev_str</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--baud&quot;</span>&#x000A;        <span class="ruby-ivar">@xbee_baud</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--newbaud&quot;</span>&#x000A;        <span class="ruby-ivar">@new_baud_rate</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--desthigh&quot;</span>&#x000A;        <span class="ruby-ivar">@dest_high</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--destlow&quot;</span>&#x000A;        <span class="ruby-ivar">@dest_low</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--channel&quot;</span>&#x000A;        <span class="ruby-ivar">@channel</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--parity&quot;</span>&#x000A;        <span class="ruby-ivar">@newparity</span> = <span class="ruby-identifier">arg</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--help&quot;</span>&#x000A;        <span class="ruby-identifier">dump_help</span>&#x000A;        <span class="ruby-identifier">exit</span> <span class="ruby-value">0</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--version&quot;</span>&#x000A;        <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@xbeeconfig_version</span>&#x000A;        <span class="ruby-identifier">exit</span> <span class="ruby-value">0</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">when</span> <span class="ruby-value str">&quot;--save&quot;</span>&#x000A;        <span class="ruby-ivar">@save</span> = <span class="ruby-keyword kw">true</span>&#x000A;&#x000A;      <span class="ruby-keyword kw">end</span> <span class="ruby-comment cmt"># case</span>&#x000A;  <span class="ruby-keyword kw">end</span> <span class="ruby-comment cmt"># options</span>&#x000A;<span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='public-instance method' id='method-M000002'>
                <a name='M000002'>      </a>
                <div class='synopsis'>
                  <span class='name'>setup_cli_options</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  configure the command line parameters to accept
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000002-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000002-source'><span class="ruby-comment cmt"># File xbeeconfigure.rb, line 114</span>&#x000A;<span class="ruby-keyword kw">def</span> <span class="ruby-identifier">setup_cli_options</span>&#x000A;&#x000A;  <span class="ruby-ivar">@options</span> = <span class="ruby-constant">GetoptLong</span>.<span class="ruby-identifier">new</span>()&#x000A;  <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">quiet</span> = <span class="ruby-keyword kw">true</span>&#x000A;&#x000A;  <span class="ruby-ivar">@options_array</span> = <span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>&#x000A;&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--panid&quot;</span>, <span class="ruby-value str">&quot;-p&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]    <span class="ruby-comment cmt"># set panid </span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--nodeid&quot;</span>, <span class="ruby-value str">&quot;-n&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]   <span class="ruby-comment cmt"># set nodeid </span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--desthigh&quot;</span>, <span class="ruby-value str">&quot;-H&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ] <span class="ruby-comment cmt"># set destination high address</span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--destlow&quot;</span>, <span class="ruby-value str">&quot;-L&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]  <span class="ruby-comment cmt"># set destination low address </span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--channel&quot;</span>, <span class="ruby-value str">&quot;-c&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]  <span class="ruby-comment cmt"># set channel </span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--parity&quot;</span>, <span class="ruby-value str">&quot;-P&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]   <span class="ruby-comment cmt"># set parity</span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--newbaud&quot;</span>, <span class="ruby-value str">&quot;-B&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]  <span class="ruby-comment cmt"># set new baud rate in XBee, will not take effect until exiting command mode or AT command mode timeout </span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--mysrc&quot;</span>, <span class="ruby-value str">&quot;-M&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]    <span class="ruby-comment cmt"># set nodeid </span>&#x000A;&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--dev&quot;</span>, <span class="ruby-value str">&quot;-d&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]      <span class="ruby-comment cmt"># override serial /dev string </span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--baud&quot;</span>, <span class="ruby-value str">&quot;-b&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">REQUIRED_ARGUMENT</span> ]     <span class="ruby-comment cmt"># use this baud to configure device</span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--save&quot;</span>, <span class="ruby-value str">&quot;-s&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_ARGUMENT</span> ]           <span class="ruby-comment cmt"># write new configuration to XBee flash when finished</span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--help&quot;</span>, <span class="ruby-value str">&quot;-h&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_ARGUMENT</span> ]           <span class="ruby-comment cmt"># help message</span>&#x000A;  <span class="ruby-ivar">@options_array</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-value str">&quot;--version&quot;</span>, <span class="ruby-value str">&quot;-v&quot;</span>, <span class="ruby-constant">GetoptLong</span><span class="ruby-operator">::</span><span class="ruby-constant">NO_ARGUMENT</span> ]        <span class="ruby-comment cmt"># get version of xbeeconfig.rb</span>&#x000A;&#x000A;  <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">set_options</span>( <span class="ruby-operator">*</span><span class="ruby-ivar">@options_array</span> )&#x000A;<span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
